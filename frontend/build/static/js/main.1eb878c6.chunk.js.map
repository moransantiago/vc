{"version":3,"sources":["Context.js","components/NavBar/styles.js","components/NavBar/index.js","components/LeftColumn/styles.js","components/Card/styles.js","components/Card/index.js","utils/peer/main.js","components/LeftColumn/index.js","components/Styles/animations.js","components/Chat/styles.js","components/Chat/index.js","components/ServersBar/styles.js","components/Server/styles.js","components/Server/index.js","components/ServersBar/index.js","components/ServersAndChatColumn/styles.js","components/ServersAndChatColumn/index.js","components/MyFriends/styles.js","components/MyFriends/index.js","containers/SearchFriends.js","containers/AddFriend.js","components/UsersResults/styles.js","components/UsersResults/index.js","components/SearchFriendsColumn/styles.js","components/SearchFriendsColumn/index.js","components/FriendsSectionFooter/styles.js","components/FriendsSectionFooter/index.js","components/FriendsColumn/styles.js","hooks/useInputValue.js","components/FriendsColumn/index.js","components/HomeComponent/styles.js","components/HomeComponent/index.js","components/Loader/styles.js","components/Loader/index.js","containers/GetMe.js","pages/Home.js","containers/LoginMutation.js","components/UserForm/styles.js","components/SubmitButton/styles.js","components/SubmitButton/index.js","components/UserForm/index.js","pages/Login.js","containers/SignupMutation.js","pages/Signup.js","components/Styles/GlobalStyle.js","index.js","App.js","assets/fonts/Montserrat-Regular.ttf"],"names":["Context","createContext","children","useState","window","sessionStorage","getItem","isAuth","setIsAuth","value","activateAuth","token","setItem","removeAuth","removeItem","Provider","Consumer","Image","styled","img","Nav","div","NavHeader","span","Paragraph","p","Link","LinkRouter","NavBar","username","useContext","src","to","onClick","DivColumn","Title","h1","Subtitle","DivContainer","Header","Card","disabled","title","userImage","peerSetUp","a","Peer","require","io","peers","gotUserMedia","stream","newVideo","createNewVideoElement","bindVideoToHtml","socket","on","id","offerOrAnswer","peerId","type","newPeer","createPeer","setPeerEvents","signal","push","peer","filter","console","log","peerIndex","indexOf","destroy","splice","emit","err","initiator","trickle","config","iceServers","urls","credential","DOMElement","srcObject","URL","createObjectURL","play","isMine","videoContainer","document","getElementById","newVideoElement","createElement","muted","playsInline","autoPlay","appendChild","navigator","mediaDevices","getUserMedia","video","audio","message","LeftColumn","server","channels","setSocket","useEffect","then","useJoinChannel","className","name","map","channel","index","_id","room","key","buttonsHover","time","css","buttonsHoverKeyFrames","keyframes","zoomServerKeyFrames","currentServerKeyFrames","DivColumnVideos","DivTitle","DivBodyChat","Button","button","props","Input","input","DivInput","Chat","colapsed","setColapsed","ArrowIcon","IoIosArrowBack","IoIosArrowForward","size","color","placeholder","Div","Img","currentserver","zoomServer","selectServer","Server","firstChannelOnTheArray","ServersBar","currentServer","servers","ServersAndChatColumn","Buttons","h2","DivFriends","DivScrollable","MyFriends","friends","friend","filterUsers","gql","SearchFriends","query","variables","AddFriendMutation","AddFriend","mutation","UsersResults","users","length","Icon","includes","MdMessage","MdPersonAdd","userId","SearchFriendsColumn","keyword","addFriend","catch","loading","data","DivDropdown","DivDropdownContainer","DivFooter","DivButtons","Tag","FriendsSectionFooter","friendRequests","addNewFriend","friendSearchInput","aria-haspopup","aria-controls","aria-hidden","role","alert","useInputValue","initialValue","setValue","onChange","e","target","FriendsColumn","removeFriend","friendsIdList","DivColumns","HomeComponent","userData","setUserData","user","requestIndex","shift","Loader","svg","viewBox","cx","cy","r","fill","strokeWidth","getMe","GetMe","fetchPolicy","Home","React","memo","serverId","channelId","navigate","error","prevProps","Login","LoginMutation","Form","form","Span","Error","SubmitButton","UserForm","onSubmit","email","password","handleSubmit","preventDefault","logIn","errorMsg","signUp","SignupMutation","Signup","graphQLErrors","GlobalStyle","createGlobalStyle","Montserrat","client","ApolloClient","uri","request","operation","authorization","setContext","headers","onError","location","href","ReactDOM","render","path","noThrow","from","module","exports"],"mappings":"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","file":"static/js/main.1eb878c6.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react'\r\n\r\nexport const Context = createContext()\r\n\r\nconst Provider = ({ children }) => {\r\n  const [isAuth, setIsAuth] = useState(() => window.sessionStorage.getItem('token'))\r\n\r\n  const value = {\r\n    isAuth,\r\n    activateAuth: token => {\r\n      setIsAuth(true)\r\n      window.sessionStorage.setItem('token', token)\r\n    },\r\n    removeAuth: () => {\r\n      setIsAuth(false)\r\n      window.sessionStorage.removeItem('token')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Context.Provider value={value}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default {\r\n  Provider,\r\n  Consumer: Context.Consumer\r\n}\r\n","import styled from 'styled-components'\r\n\r\nimport { Link as LinkRouter } from '@reach/router'\r\n\r\nexport const Image = styled.img`\r\n\tborder-radius: 50%;\r\n\toverflow: hidden;\r\n\tobject-fit: cover;\r\n\theight: 35px;\r\n\twidth: 35px;\r\n`\r\n\r\nexport const Nav = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmin-height: 50px;\r\n\theight: 50px;\r\n\twidth: 100vw;\r\n\tpadding: 0 20px;\r\n\tbackground-color: #242424;\r\n`\r\n\r\nexport const NavHeader = styled.span`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n`\r\n\r\nexport const Paragraph = styled.p`\r\n\tcolor: #ededed;\r\n\tmargin-left: 15px;\r\n\tfont-weight: bold;\r\n`\r\n\r\nexport const Link = styled(LinkRouter)`\r\n\tfont-family: Montserrat;\r\n\tfont-size: 16px;\r\n\tborder-radius: 3px;\r\n\tborder: 0;\r\n\theight: 34px;\r\n\twidth: 90px;\r\n\tfont-size: 16px;\r\n\tbackground-color: #c86740;\r\n\tcolor: #e6e6e6;\r\n\tfont-weight: bold;\r\n\ttext-align: center;\r\n\tpadding: 5px;\r\n\t&:hover {\r\n\t\tbackground-color: #9b5134;\r\n\t\tcolor: #aeaeae;\r\n\t}\r\n`\r\n","import React, { useContext } from 'react'\r\n\r\nimport 'bulma/css/bulma.css'\r\n\r\nimport { Image, Nav, NavHeader, Paragraph, Link } from './styles'\r\n\r\nimport { Context } from '../../Context'\r\n\r\nexport const NavBar = ({ username }) => {\r\n\tconst { removeAuth } = useContext(Context)\r\n\r\n\treturn (\r\n\t\t<Nav>\r\n\t\t\t<NavHeader>\r\n\t\t\t\t<Image src='https://citas.in/media/authors/diego-maradona.detail.jpg' />\r\n\t\t\t\t<Paragraph>{username}</Paragraph>\r\n\t\t\t</NavHeader>\r\n\t\t\t<Link to='/' onClick={removeAuth}>Log out</Link>\r\n\t\t</Nav>\r\n\t)\r\n}\r\n","import styled from 'styled-components'\r\n\r\nimport { Link as LinkRouter } from '@reach/router'\r\n\r\nexport const DivColumn = styled.div`\r\n\tbackground-color: #3c3c3c;\r\n\tpadding: 15px 15px 15px 15px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow-y: auto;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n\tfont-size: 24px;\r\n\tfont-weight: bold;\r\n\tmargin: 0 0 10px 0;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Subtitle = styled.h1`\r\n\tfont-size: 18px;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Link = styled(LinkRouter)`\r\n\tcolor: #4a4a4a;\r\n    text-align: center;\r\n    text-decoration: none;\r\n`\r\n","import styled from 'styled-components'\r\n\r\nexport const DivContainer = styled.div`\r\n\tborder-radius: 4px;\r\n\tpadding: 2% 4%;\r\n\tmargin: 5px 0;\r\n\tfont-size: 14px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\t&:hover {\r\n\t\tbackground-color: #393939;\r\n\t}\r\n\t&[disabled] {\r\n\t\topacity: 0.5;\r\n\t}\r\n`\r\n\r\nexport const Image = styled.img`\r\n\tmargin: 0 8px 0 0;\r\n\tborder-radius: 50%;\r\n\theight: auto;\r\n\toverflow: hidden;\r\n\tobject-fit: cover;\r\n\theight: 30px;\r\n\twidth: 30px;\r\n\tmin-width: 30px;\r\n\tmin-height: 30px;\r\n`\r\n\r\nexport const Header = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\toverflow-x: hidden;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n\tfont-size: 15px;\r\n\tcolor: #ededed;\r\n`\r\n","import React from 'react'\r\n\r\nimport { DivContainer, Header, Image, Title } from './styles'\r\n\r\nexport const Card = ({\r\n    disabled = false,\r\n    children,\r\n    title,\r\n    img = true,\r\n    userImage = 'https://citas.in/media/authors/diego-maradona.detail.jpg'\r\n}) => (\r\n    <DivContainer disabled={disabled}>\r\n        <Header>\r\n            {img && <Image src={userImage} />}\r\n            <Title>{title}</Title>\r\n        </Header>\r\n        {children}\r\n    </DivContainer>\r\n)\r\n","export const peerSetUp = async username => {\r\n\tconst Peer = require('simple-peer')\r\n\tconst io = require('socket.io-client')\r\n\tconst peers = [] // => Will be an array of objects: { id: <name>, peer: new Peer() }\r\n\r\n\tconst gotUserMedia = stream => {\r\n\t\t// => This will be executed if the stream is successfully obtained\r\n\t\tconst newVideo = createNewVideoElement(true)\r\n\t\tbindVideoToHtml(newVideo, stream) // => Bind the media that we recieve from the user into localVideo html element\r\n\t\tconst socket = io('https://moran.mtprz.dev/ws/signaling')\r\n\r\n\t\tsocket.on('connect', () => {\r\n\t\t\tsocket.on('signal', ({ id, offerOrAnswer, peerId }) => {\r\n\t\t\t\tif (offerOrAnswer.type === 'offer' && id === username) {\r\n\t\t\t\t\tconst newPeer = createPeer(false, stream)\r\n\t\t\t\t\tsetPeerEvents(newPeer, socket, peerId)\r\n\t\t\t\t\tnewPeer.signal(offerOrAnswer)\r\n\t\t\t\t\tpeers.push({ id: peerId, peer: newPeer })\r\n\t\t\t\t} else if (offerOrAnswer.type === 'answer' && id === username) {\r\n\t\t\t\t\tconst signaledFrom = peers.filter(peer => peer.id === peerId)\r\n\t\t\t\t\tsignaledFrom[0].peer.signal(offerOrAnswer)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tsocket.on('joiner', id => {\r\n\t\t\t\tconsole.log('A new user has joined this room')\r\n\t\t\t\tconst newPeer = createPeer(true, stream)\r\n\t\t\t\tsetPeerEvents(newPeer, socket, id)\r\n\t\t\t\tpeers.push({ id, peer: newPeer })\r\n\t\t\t})\r\n\r\n\t\t\tsocket.on('left', id => {\r\n\t\t\t\tconsole.log('A user has left the channel');\r\n\t\t\t\tconst peerIndex = peers.indexOf(id)\t// => Get the position of the left peer inside the connected peers\r\n\t\t\t\tif (peerIndex > -1) { // => If finds the peer\r\n\t\t\t\t\tpeers[peerIndex].peer.destroy()\r\n\t\t\t\t\tpeers.splice(peerIndex, 1) // => Removes it\r\n\t\t\t\t\tconsole.log(peers)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\t/*\r\n            The returned function is the socket.emit\r\n            function in order to call the join event this way:\r\n            => socket.emit('join', { id: username, room: channel })\r\n        */\r\n\t\treturn socket\r\n\t}\r\n\r\n\tconst setPeerEvents = (peer, socket, id) => {\r\n\t\tpeer.on('signal', offerOrAnswer => {\r\n\t\t\tsocket.emit('signal', { id, offerOrAnswer, peerId: username })\r\n\t\t\t// => Whenever a peer recieves a signal, it emit the signal event to every connected peer\r\n\t\t})\r\n\r\n\t\tpeer.on('connect', () => {\r\n\t\t\tconsole.log('A peer has just connected')\r\n\t\t})\r\n\r\n\t\tpeer.on('error', err => {\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\r\n\t\tpeer.on('stream', stream => {\r\n\t\t\tconst newVideo = createNewVideoElement(false)\r\n\t\t\tbindVideoToHtml(newVideo, stream)\r\n\t\t\t// => Bind the stream that we recieve from the other peer into remoteVideo html element\r\n\t\t})\r\n\t}\r\n\r\n\tconst createPeer = (initiator, stream) =>\r\n\t\tnew Peer({\r\n\t\t\tinitiator: initiator,\r\n\t\t\ttrickle: false,\r\n\t\t\tstream: stream,\r\n\t\t\tconfig: {\r\n\t\t\t\ticeServers: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turls: ['stun:stun.l.google.com:19302']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turls: 'turn:webrtcweb.com:7788',\r\n\t\t\t\t\t\tusername: 'muazkh',\r\n\t\t\t\t\t\tcredential: 'muazkh'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t})\r\n\r\n\tconst bindVideoToHtml = (DOMElement, stream) => {\r\n\t\tif ('srcObject' in DOMElement) {\r\n\t\t\tDOMElement.srcObject = stream\r\n\t\t} else {\r\n\t\t\tDOMElement.src = window.URL.createObjectURL(stream)\r\n\t\t\t// => For older browsers\r\n\t\t}\r\n\t\tDOMElement.play()\r\n\t}\r\n\r\n\tconst createNewVideoElement = isMine => {\r\n\t\tconst videoContainer = document.getElementById('videos')\r\n\t\tconst newVideoElement = document.createElement('video')\r\n\t\tnewVideoElement.muted = isMine // => If the video is remote, we do not mute it\r\n\t\tnewVideoElement.playsInline = true\r\n\t\tnewVideoElement.autoPlay = true\r\n\t\tvideoContainer.appendChild(newVideoElement)\r\n\r\n\t\treturn newVideoElement\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst stream = await navigator.mediaDevices.getUserMedia({\r\n\t\t\tvideo: true,\r\n\t\t\taudio: true\r\n\t\t})\r\n\t\treturn gotUserMedia(stream)\r\n\t} catch (error) {\r\n\t\tconsole.log(`Error: ${error.message}`)\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport { DivColumn, Title, Subtitle, Link } from './styles'\r\n\r\nimport { Card } from '../Card/index'\r\n\r\nimport { peerSetUp } from '../../utils/peer/main'\r\n\r\nconst useJoinChannel = username => {\r\n\tconst [socket, setSocket] = useState()\r\n\r\n\tuseEffect(() => {\r\n\t\tpeerSetUp(username).then(socket => setSocket(socket))\r\n\t}, [username])\r\n\r\n\treturn [socket, setSocket]\r\n}\r\n\r\nexport const LeftColumn = ({ server, channels, username }) => {\r\n\tconst [socket] = useJoinChannel(username)\r\n\r\n\treturn channels ? (\r\n\t\t<DivColumn className='column is-2'>\r\n\t\t\t<Title>{server.name}</Title>\r\n\t\t\t<div>\r\n\t\t\t\t<Subtitle>Chats</Subtitle>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Card img={false} title='chat-1' />\r\n\t\t\t\t\t<Card img={false} title='chat-2' />\r\n\t\t\t\t\t<Card img={false} title='memes' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Subtitle>Channels (voice)</Subtitle>\r\n\t\t\t\t{channels.map((channel, index) => (\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={`/${server.id}/${channel._id}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsocket.emit('left', { id: username })\r\n\t\t\t\t\t\t\tsocket.emit('join', { id: username, room: channel._id })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Card img={false} title={channel.name} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</DivColumn>\r\n\t) : (\r\n\t\t<DivColumn className='column is-2'>\r\n\t\t\t<Title>Server</Title>\r\n\t\t\t<div>\r\n\t\t\t\t<p>Loading...</p>\r\n\t\t\t</div>\r\n\t\t</DivColumn>\r\n\t)\r\n}\r\n","import { css, keyframes } from 'styled-components'\r\n\r\nexport const buttonsHover = ({ time = '0.5s', type = 'ease' } = {}) =>\r\n\tcss`\r\n\t\tanimation: ${time} ${buttonsHoverKeyFrames} ${type} forwards; /* => forwards makes the animation stay as it finishes */\r\n    `\r\n    \r\nexport const inputFocus = ({ time = '0.2s', type = 'ease' } = {}) =>\r\n\tcss`\r\n\t\tanimation: ${time} ${inputKeyFrames} ${type} forwards;\r\n    `\r\n    \r\nexport const zoomServer = ({ time = '0.8s', type = 'ease' } = {}) =>\r\n\tcss`\r\n\t\tanimation: ${time} ${zoomServerKeyFrames} ${type} forwards;\r\n    `\r\n    \r\nexport const selectServer = ({ time = '0.2s', type = 'ease' } = {}) =>\r\n\tcss`\r\n\t\tanimation: ${time} ${currentServerKeyFrames} ${type} forwards;\r\n\t`\r\n\r\nconst buttonsHoverKeyFrames = keyframes`\r\n    from {\r\n        background-color: inherit;\r\n\t\tborder: 1px solid inherit;\r\n    }\r\n\r\n    to {\r\n\t\tbackground-color: #3b3b3b;\r\n\t\tborder: 1px solid #9b5134;\r\n    }\r\n`\r\n\r\nconst inputKeyFrames = keyframes`\r\n    from {\r\n        filter: blur(0.2px);\r\n        border: 1px solid #ededed;\r\n    }\r\n\r\n    to {\r\n        filter: blur(0);\r\n        border: 1px solid rgb(140, 136, 168);\r\n    }\r\n`\r\n\r\nconst zoomServerKeyFrames = keyframes`\r\n    from {\r\n        transform: scale(1);\r\n    }\r\n    to {\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst currentServerKeyFrames = keyframes`\r\n    from {\r\n        width: 0%;\r\n        left: 50%;\r\n    }\r\n    to {\r\n        width: 70%;\r\n        left: 15%;\r\n    }\r\n`\r\n","import styled from 'styled-components'\r\n\r\nimport { buttonsHover } from '../Styles/animations'\r\n\r\nexport const DivContainer = styled.div`\r\n\tmargin: 0;\r\n`\r\n\r\nexport const DivColumn = styled.div`\r\n\tpadding: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: #282828;\r\n\theight: calc(100vh - 60px - 50px);\r\n`\r\n\r\nexport const DivColumnVideos = styled.div`\r\n\tpadding: 2%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: #282828;\r\n\theight: calc(100vh - 60px - 50px);\r\n\tborder-top: 1px solid;\r\n\tborder-left: 1px solid;\r\n`\r\n\r\nexport const DivTitle = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 12px 12px 12px 38px;\r\n\tbackground-color: #282828;\r\n\tcolor: #ededed;\r\n\tborder-bottom: 1px solid #3c3c3c;\r\n\tborder-top: 1px solid #3c3c3c;\r\n\tflex-grow: 1;\r\n`\r\n\r\nexport const DivBodyChat = styled.div`\r\n\tpadding: 0 5% 0 5%;\r\n\toverflow-y: auto;\r\n\tword-wrap: break-word;\r\n\tflex-grow: 1;\r\n\tcolor: #b7b7b7;\r\n`\r\n\r\nexport const Title = styled.p`\r\n\tfont-size: 25px;\r\n\tfont-weight: bold;\r\n`\r\n\r\nexport const Button = styled.button`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tborder: 0;\r\n\theight: 30px;\r\n\twidth: 30px;\r\n\tpadding: 1px;\r\n\tborder-radius: 3px;\r\n\tbackground-color: inherit;\r\n\t&:hover {\r\n\t\t${props => !props.disabled && buttonsHover({ time: '0.2s' })};\r\n\t}\r\n`\r\n\r\nexport const Input = styled.input`\r\n\tborder: 0;\r\n\theight: 38px;\r\n\tbackground-color: #5e5e5e;\r\n\tborder-radius: 4px;\r\n\twidth: 100%;\r\n\tcolor: #ededed;\r\n\tfont-weight: bolder;\r\n\tfont-size: 16px;\r\n\tpadding: 10px;\r\n\tfont-family: Montserrat;\r\n`\r\n\r\nexport const DivInput = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-top: 1px solid #3c3c3c;\r\n\tpadding: 3%;\r\n\tflex-grow: 1;\r\n`\r\n","import React, { useState } from 'react'\r\n\r\nimport 'bulma/css/bulma.css'\r\n\r\nimport {\r\n\tDivContainer,\r\n\tDivColumn,\r\n\tDivColumnVideos,\r\n\tDivTitle,\r\n\tDivBodyChat,\r\n\tTitle,\r\n\tDivInput,\r\n\tInput,\r\n\tButton\r\n} from './styles'\r\n\r\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io'\r\n\r\nexport const Chat = ({ channel }) => {\r\n\tconst [ colapsed, setColapsed ] = useState(true)\r\n\tconst ArrowIcon = colapsed ? IoIosArrowBack : IoIosArrowForward\r\n\r\n\treturn (\t\r\n\t\t<DivContainer className='columns'>\r\n\t\t\t<DivColumn className={`column ${colapsed ? 'is-11' : 'is-8'}`}>\r\n\t\t\t\t<DivTitle>\r\n\t\t\t\t\t<Title>\r\n\t\t\t\t\t\t{channel ? `${channel.name}'s chat` : `Channel's name`}\r\n\t\t\t\t\t</Title>\r\n\t\t\t\t\t<Button onClick={() => setColapsed(colapsed ? false : true)}><ArrowIcon size='20px' color='#ededed' /></Button>\r\n\t\t\t\t</DivTitle>\r\n\t\t\t\t<DivBodyChat>\r\n\t\t\t\t\tssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss\r\n\t\t\t\t</DivBodyChat>\r\n\t\t\t\t<DivInput>\r\n\t\t\t\t\t<Input type='text' placeholder={`Your message on chat`}></Input>\r\n\t\t\t\t</DivInput>\r\n\t\t\t</DivColumn>\r\n\t\t\t<DivColumnVideos id='videos' className={`column ${colapsed ? 'is-1' : 'is-4'}`}>\r\n\t\t\t</DivColumnVideos>\r\n\t\t</DivContainer>\r\n\t)\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const Div = styled.div`\r\n\theight: 60px;\r\n\tpadding: 7px;\r\n\toverflow-x: auto;\r\n\toverflow-y: hidden;\r\n\tbackground-color: #282828;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nimport { Link as LinkRouter } from '@reach/router'\r\n\r\nimport { zoomServer, selectServer } from '../Styles/animations'\r\n\r\nexport const Img = styled.img`\r\n\tborder-radius: 20%;\r\n\tborder: 1px solid #3c3b3b;\r\n\toverflow: hidden;\r\n\tobject-fit: cover;\r\n\twidth: 42px;\r\n\theight: 42px;\r\n\tmin-width: 42px;\r\n\tmin-height: 42px;\r\n`\r\n\r\nexport const Link = styled(LinkRouter)`\r\n\tmargin: 0 4px 0 4px;\r\n\tdisplay: inline-flex;\r\n\tborder-radius: 18%;\r\n\tposition: relative;\r\n\t${props =>\r\n\t\t!props.currentserver &&\r\n\t\tcss`\r\n\t\t\t {\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\t${zoomServer({ time: '0.1s' })};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`};\r\n\t${props =>\r\n\t\tprops.currentserver &&\r\n\t\tcss`\r\n\t\t\t {\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: -7px;\r\n\t\t\t\t\theight: 3px;\r\n\t\t\t\t\tbackground: #ededed;\r\n\t\t\t\t\tborder-radius: 0px 0px 7px 7px;\r\n\t\t\t\t\t${selectServer({ time: '0.2s' })};\r\n\t\t\t\t}\r\n\t\t\t\ttransform: scale(1.1);\r\n\t\t\t}\r\n\t\t`};\r\n`\r\n","import React from 'react'\r\n\r\nimport { Img, Link } from './styles'\r\n\r\nexport const Server = ({\r\n\t_id,\r\n\tchannels: [firstChannelOnTheArray],\r\n\tcurrentserver = false,\r\n\timg = 'https://upload.wikimedia.org/wikipedia/commons/8/8f/Indio_Solari_2_color.jpg'\r\n}) => {\r\n\tconsole.log(currentserver)\r\n\treturn \t<Link currentserver={currentserver} to={`/${_id}/${firstChannelOnTheArray._id}`}>\r\n\t\t<Img src={img} />\r\n\t</Link>\r\n}\r\n","import React from 'react'\r\n\r\nimport { Div } from './styles'\r\n\r\nimport { Server } from '../Server/index'\r\n\r\nexport const ServersBar = ({ currentServer = null, servers }) => (\r\n\t<Div className='column is-12'>\r\n\t\t{servers.map((server, index) => (\r\n\t\t\t<Server {...server} currentserver={currentServer === servers[index]._id ? true : false} key={index} />\r\n\t\t))}\r\n\t</Div>\r\n)\r\n","import styled from 'styled-components'\n\nexport const Div = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n","import React from 'react'\n\nimport { Chat } from '../Chat'\nimport { ServersBar } from '../ServersBar'\n\nimport { Div } from './styles'\n\nexport const ServersAndChatColumn = ({ servers, channel, currentServer }) => (\n    <Div className='column is-paddingless is-8'>\n        <ServersBar servers={servers} currentServer={currentServer}/>\n        <Chat channel={channel} />\n    </Div>\n)\n","import styled from 'styled-components' \n\nimport { buttonsHover } from '../Styles/animations'\n\nexport const Buttons = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n\nexport const Button = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: 0;\n\theight: 30px;\n\twidth: 30px;\n\tpadding: 1px;\n\tborder-radius: 3px;\n\tbackground-color: inherit;\n\t&:hover {\n\t\t${props => !props.disabled && buttonsHover({ time: '0.2s' })};\n\t}\n`\n\nexport const Subtitle = styled.h2`\n\tfont-size: 15px !important;\n\tmargin: 9px 0 8px 4px;\n\tcolor: #ededed;\n`\n\nexport const Title = styled.h1`\n\tposition: fixed;\n\tfont-size: 20px !important;\n\tfont-weight: bold;\n\tmargin: 0 0 4px 0;\n\tcolor: #ededed;\n`\n\nexport const DivFriends = styled.div`\n\toverflow-y: auto;\n`\n\nexport const DivScrollable = styled.div`\n\tmargin: 25px 0 0 0;\n\toverflow-y: auto;\n\toverflow-x: auto;\n`\n","import React from 'react'\n\nimport { Card } from '../Card'\n\nimport { DivScrollable, Title, Subtitle, Buttons, Button, DivFriends } from './styles'\n\nimport { MdMessage } from 'react-icons/md'\n\nexport const MyFriends = ({ friends }) => (\n    <>\n\t\t<Title>Friends</Title>\n\t\t<DivScrollable>\n\t\t\t<DivFriends>\n\t\t\t\t<Subtitle>Online</Subtitle>\n\t\t\t\t{friends.map((friend, index) => (\n\t\t\t\t\t<Card key={index} title={friend.username}>\n\t\t\t\t\t\t<Buttons>\n\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t<MdMessage color='#b7b7b7' size='15px' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Buttons>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t<Subtitle>Offline</Subtitle>\n\t\t\t\t{[\n\t\t\t\t\t'Agustin',\n\t\t\t\t\t'Santiago',\n\t\t\t\t\t'Manuel',\n\t\t\t\t\t'Agustin',\n\t\t\t\t\t'Santiago',\n\t\t\t\t\t'Manuel'\n\t\t\t\t].map((friend, index) => (\n\t\t\t\t\t<Card\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttitle={friend}\n\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Buttons>\n\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t<MdMessage size='15px' />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Buttons>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</DivFriends>\n\t\t</DivScrollable>\n\t</>\n)","import React from 'react'\r\n\r\nimport { Query } from 'react-apollo'\r\nimport { gql } from 'apollo-boost'\r\n\r\nconst filterUsers = gql`\r\n\tquery filterUsers($username: String!) {\r\n\t\tfilterUsers(username: $username) {\r\n\t\t\t_id\r\n\t\t\tusername\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const SearchFriends = ({ username, children }) => (\r\n\t<Query query={filterUsers} variables={{ username }}>\r\n\t\t{children}\r\n\t</Query>\r\n)\r\n","import React from 'react'\r\n\r\nimport { Mutation } from 'react-apollo'\r\nimport { gql } from 'apollo-boost'\r\n\r\nconst AddFriendMutation = gql`\r\n\tmutation($userId: ID!) {\r\n\t\taddFriend(userId: $userId) {\r\n\t\t\t_id\r\n\t\t\tusername\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const AddFriend = ({ children }) => (\r\n    <Mutation mutation={AddFriendMutation}>\r\n        {children}\r\n    </Mutation>\r\n)\r\n","import styled from 'styled-components'\r\n\r\nimport { buttonsHover } from '../Styles/animations'\r\n\r\nexport const Title = styled.h1`\r\n    font-family: Montserrat;\r\n    font-size: 22px;\r\n    font-weight: bold;\r\n\tcolor: #ededed;\r\n\tmargin: 0 0 5px 0;\r\n`\r\n\r\nexport const Div = styled.div`\r\n    overflow-y: auto;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    display: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tborder: 0;\r\n\theight: 30px;\r\n\twidth: 30px;\r\n\tpadding: 1px;\r\n\tborder-radius: 3px;\r\n\tbackground-color: inherit;\r\n\t&:hover {\r\n\t\t${props => (!props.disabled && buttonsHover({ time: '0.2s' }))};\r\n\t}\r\n`\r\n","import React from 'react'\r\n\r\nimport { Card } from '../Card'\r\n\r\nimport { MdPersonAdd, MdMessage } from 'react-icons/md'\r\nimport { Title, Div, Button } from './styles'\r\n\r\nexport const UsersResults = ({ users, friends, onClick }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Title>Results</Title>\r\n\t\t\t<Div>\r\n\t\t\t\t{users && users.length > 0 ? (\r\n\t\t\t\t\tusers.map(({ username, _id }, index) => {\r\n\t\t\t\t\t\tconst Icon = friends.includes(_id) ? MdMessage : MdPersonAdd\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Card key={index} title={username}>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => { onClick({ userId: _id }) }} >\r\n\t\t\t\t\t\t\t\t\t<Icon color='#b7b7b7' size='15px' />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h1>No users found</h1>\r\n\t\t\t\t)}\r\n\t\t\t</Div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import styled from 'styled-components'\n\nexport const Title = styled.h1`\n    font-family: Montserrat;\n    font-size: 22px;\n    font-weight: bold;\n\tcolor: #ededed;\n\tmargin: 0 0 5px 0;\n`\n","import React from 'react'\n\nimport { SearchFriends } from '../../containers/SearchFriends'\nimport { AddFriend } from '../../containers/AddFriend'\n\nimport { UsersResults } from '../UsersResults'\n\nimport { Title } from './styles'\n\nexport const SearchFriendsColumn = ({ keyword, friends }) => (\n\t<AddFriend>\n        {addFriend => {\n            const onClick = ({ userId }) => {\n                const variables = { userId }\n                addFriend({ variables }).catch(err => err)\n\t\t\t}\n\t\t\t\n            return (\n\t\t\t\t<SearchFriends username={keyword}>\n\t\t\t\t\t{({ loading, data }) => {\n\t\t\t\t\t\tif (loading) return <Title>Results</Title>\n\t\t\t\t\t\treturn <UsersResults users={data && data.filterUsers} friends={friends} onClick={onClick} />\n\t\t\t\t\t}}\n\t\t\t\t</SearchFriends>\n            )\n        }}\n    </AddFriend>\n)\n","import styled from 'styled-components'\n\nimport { buttonsHover } from '../Styles/animations'\n\nexport const Buttons = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t&[disabled] {\n\t\topacity: 0.5;\n\t}\n`\n\nexport const Button = styled.button`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: 0;\n\theight: 30px;\n\twidth: 30px;\n\tpadding: 1px;\n\tborder-radius: 3px;\n\tbackground-color: inherit;\n\t&:hover {\n\t\t${props => !props.disabled && buttonsHover({ time: '0.2s' })};\n\t}\n`\n\nexport const DivDropdown = styled.div`\n\tleft: -20px;\n\twidth: 240px;\n\tpadding: 0;\n`\n\nexport const DivDropdownContainer = styled.div`\n\tpadding: 4px;\n\tborder: 1px solid #4b4b4b;\n\tbackground-color: #424242;\n`\n\nexport const Subtitle = styled.h2`\n\tfont-size: 15px !important;\n\tmargin: 9px 0 8px 4px;\n\tcolor: #ededed;\n`\n\nexport const DivFooter = styled.div``\n\nexport const DivButtons = styled.div`\n\tpadding: 6% 6% 6% 6%;\n\tdisplay: flex;\n\tjustify-content: space-between;\n`\n\nexport const Tag = styled.span`\n\tposition: absolute;\n\ttop: -8px;\n\tleft: 20px;\n\tborder-radius: 50px !important;\n\tborder: 2px solid #dbdbdb;\n\tcolor: #ffffff !important;\n\tbackground-color: #cc6b44 !important;\n`\n\nexport const Input = styled.input`\n\tborder: 0;\n\tbackground-color: #5e5e5e;\n\tborder-radius: 4px;\n\tcolor: #ededed;\n\tfont-weight: bold;\n\theight: 32px;\n\twidth: 100%;\n\tpadding: 5px 10px;\n\tfont-family: Montserrat;\n`\n","import React from 'react'\n\nimport { AddFriend } from '../../containers/AddFriend'\n\nimport { Card } from '../Card'\n\nimport {\n\tDivFooter,\n\tDivButtons,\n\tSubtitle,\n\tTag,\n\tDivDropdown,\n\tDivDropdownContainer,\n\tInput,\n\tButtons,\n\tButton\n} from './styles'\n\nimport { MdSettings, MdDone, MdCancel } from 'react-icons/md'\nimport { FaUserFriends } from 'react-icons/fa'\n\nexport const FriendsSectionFooter = ({\n\tfriendRequests,\n\taddNewFriend,\n\tfriendSearchInput\n}) => (\n\t<DivFooter>\n\t\t<Input\n\t\t\tplaceholder='Find new friends'\n\t\t\ttype='text'\n\t\t\t{...friendSearchInput}\n\t\t/>\n\t\t<DivButtons>\n\t\t\t<div className='dropdown is-up is-hoverable'>\n\t\t\t\t<FaUserFriends\n\t\t\t\t\tcolor='#b7b7b7'\n\t\t\t\t\tsize='30px'\n\t\t\t\t\tclassName='dropdown-trigger'\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='button'\n\t\t\t\t\t\taria-haspopup='true'\n\t\t\t\t\t\taria-controls='dropdown-menu4'\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Subtitle className='is-marginless'>\n\t\t\t\t\t\t\t\tFriend Requests\n\t\t\t\t\t\t\t</Subtitle>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='icon is-small'>\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName='fas fa-angle-down'\n\t\t\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t</FaUserFriends>\n\t\t\t\t<DivDropdown\n\t\t\t\t\tclassName='dropdown-menu'\n\t\t\t\t\tid='dropdown-menu4'\n\t\t\t\t\trole='menu'\n\t\t\t\t>\n\t\t\t\t\t<DivDropdownContainer className='dropdown-content is-paddingless'>\n\t\t\t\t\t\t<div className='dropdown-item is-paddingless'>\n\t\t\t\t\t\t\t<AddFriend>\n\t\t\t\t\t\t\t\t{(addFriend, { loading }) => {\n\t\t\t\t\t\t\t\t\tconst onClick = ({ userId, username }) => {\n\t\t\t\t\t\t\t\t\t\tconst variables = { userId }\n\t\t\t\t\t\t\t\t\t\taddFriend({ variables })\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\taddNewFriend({\n\t\t\t\t\t\t\t\t\t\t\t\t\t_id: userId,\n\t\t\t\t\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.catch(err => err)\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn friendRequests.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\tfriendRequests.map(\n\t\t\t\t\t\t\t\t\t\t\t({ username, _id }, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} title={username} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Buttons disabled={loading}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserId: _id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MdDone size='15px' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MdCancel size='15px' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Buttons>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Subtitle>You don't have friend requests</Subtitle>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</AddFriend>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</DivDropdownContainer>\n\t\t\t\t</DivDropdown>\n\t\t\t\t{friendRequests.length > 0 && (\n\t\t\t\t\t<Tag className='tag'>{friendRequests.length}</Tag>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<MdSettings\n\t\t\t\tcolor='#b7b7b7'\n\t\t\t\tsize='30px'\n\t\t\t\tonClick={() => {\n\t\t\t\t\talert('Settings!')\n\t\t\t\t}}\n\t\t\t/>\n\t\t</DivButtons>\n\t</DivFooter>\n)\n","import styled from 'styled-components'\r\n\r\nexport const DivColumn = styled.div`\r\n\tpadding: 11px 11px 0 11px;\r\n\tbackground-color: #3c3c3c;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n\tflex-grow: 1;\r\n`\r\n","import { useState } from 'react'\r\n\r\nexport const useInputValue = initialValue => {\r\n\tconst [value, setValue] = useState(initialValue)\r\n\tconst onChange = e => setValue(e.target.value)\r\n\r\n\treturn { value, onChange }\r\n}\r\n","import React from 'react'\r\n\r\nimport 'bulma/css/bulma.css'\r\n\r\nimport { MyFriends } from '../MyFriends'\r\nimport { SearchFriendsColumn } from '../SearchFriendsColumn'\r\nimport { FriendsSectionFooter } from '../FriendsSectionFooter'\r\n\r\nimport { DivColumn } from './styles'\r\n\r\nimport { useInputValue } from '../../hooks/useInputValue'\r\n\r\nexport const FriendsColumn = ({ friends, friendRequests, addNewFriend, removeFriend }) => {\r\n\tconst friendSearchInput = useInputValue('')\r\n\tconst friendsIdList = friends.map(friend => friend._id)\r\n\r\n\treturn (\r\n\t\t<DivColumn className='column is-2'>\r\n\t\t\t{!friendSearchInput.value\r\n\t\t\t\t? <MyFriends friends={friends} />\r\n\t\t\t\t: <SearchFriendsColumn keyword={friendSearchInput.value} friends={friendsIdList} />\r\n\t\t\t}\r\n\t\t\t<FriendsSectionFooter friendRequests={friendRequests} addNewFriend={addNewFriend} friendSearchInput={friendSearchInput} />\r\n\t\t</DivColumn>\r\n\t)\r\n}\r\n","import styled from 'styled-components'\n\nexport const DivContainer = styled.div`\n\tdisplay: flex;\n\tflex-flow: column;\n\theight: 100vh;\n`\n\nexport const DivColumns = styled.div`\n\tdisplay: flex;\n    margin: 0;\n    height: -webkit-calc(100% - 50px);\n    height: -moz-calc(100% - 50px);\n    height: calc(100% - 50px);\n    font-family: Montserrat;\n`\n","import React, { useState } from 'react'\n\nimport { NavBar } from '../NavBar'\nimport { LeftColumn } from '../LeftColumn'\nimport { ServersAndChatColumn } from '../ServersAndChatColumn'\nimport { FriendsColumn } from '../FriendsColumn'\n\nimport { DivContainer, DivColumns } from './styles'\n\nexport const HomeComponent = ({ data, server, channel }) => {\n    const [userData, setUserData] = useState(data)\n    const addNewFriend = user => {\n        const { friends } = userData\n        const { friendRequests } = userData\n        friends.push(user)\n        const requestIndex = friendRequests.indexOf(user)\n        requestIndex && friendRequests.shift(requestIndex, 1)\n        setUserData({ ...userData })\n    }\n    // const removeFriend = user => {\n    //     const { friends } = userData\n    //     const friendIndex = friends.indexOf(user)\n    //     friendIndex && friends.shift(friendIndex, 1)\n    //     setUserData({ ...userData })\n    // }\n    \n    return (\n        <DivContainer>\n            <NavBar username={userData.username} />\n            <DivColumns>\n                <LeftColumn server={ server && { id: server._id, name: server.name } } channels={server && server.channels} username={userData.username} />\n                <ServersAndChatColumn servers={userData.servers} channel={channel} currentServer={server._id} />\n                <FriendsColumn friends={userData.friends} friendRequests={userData.friendRequests} addNewFriend={addNewFriend} />\n            </DivColumns>\n        </DivContainer>\n    )\n}\n","import styled from 'styled-components'\r\n\r\nexport const Div = styled.div`\r\n\tdisplay: flex;\r\n    flex-direction: column;\r\n\theight: 100vh;\r\n\twidth: 100vw;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n    background-color: #373737;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n    font-family: Montserrat;\r\n    font-size: 30px;\r\n\tfont-weight: bold;\r\n    margin: 25px 0 0 0;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Loader = styled.svg`\r\n\tanimation: rotate 2s linear infinite;\r\n\tmargin: -25px 0 0 -25px;\r\n\twidth: 50px;\r\n\theight: 50px;\r\n\r\n\t& .path {\r\n\t\tstroke: #c86740;\r\n\t\tstroke-linecap: round;\r\n\t\tanimation: dash 1.5s ease-in-out infinite;\r\n\t}\r\n\r\n\t@keyframes rotate {\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\t@keyframes dash {\r\n\t\t0% {\r\n\t\t\tstroke-dasharray: 1, 150;\r\n\t\t\tstroke-dashoffset: 0;\r\n\t\t}\r\n\t\t50% {\r\n\t\t\tstroke-dasharray: 90, 150;\r\n\t\t\tstroke-dashoffset: -35;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tstroke-dasharray: 90, 150;\r\n\t\t\tstroke-dashoffset: -124;\r\n\t\t}\r\n\t}\r\n`\r\n","import React from 'react'\r\n\r\nimport { Loader as Spinner, Div, Title } from './styles'\r\n\r\nexport const Loader = ({ message = 'Loading'}) => (\r\n\t<Div>\r\n\t\t<Spinner viewBox='0 0 50 50'>\r\n\t\t\t<circle\r\n\t\t\t\tclassName='path'\r\n\t\t\t\tcx='25'\r\n\t\t\t\tcy='25'\r\n\t\t\t\tr='20'\r\n\t\t\t\tfill='none'\r\n\t\t\t\tstrokeWidth='4'\r\n\t\t\t/>\r\n\t\t</Spinner>\r\n        <Title>{message}</Title>\r\n\t</Div>\r\n)\r\n","import React from 'react'\r\n\r\nimport { Query } from 'react-apollo'\r\nimport { gql } from 'apollo-boost'\r\n\r\nconst getMe = gql`\r\n\tquery getMe {\r\n\t\tgetMe {\r\n\t\t\t_id\r\n\t\t\tusername\r\n\t\t\tservers {\r\n\t\t\t\t_id\r\n\t\t\t\tname\r\n\t\t\t\tchannels {\r\n\t\t\t\t\t_id\r\n\t\t\t\t\tname\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfriends {\r\n\t\t\t\t_id\r\n\t\t\t\tusername\r\n\t\t\t}\r\n\t\t\tfriendRequests {\r\n\t\t\t\t_id\r\n\t\t\t\tusername\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const GetMe = ({ children }) => (\r\n\t<Query query={getMe} fetchPolicy='network-only'>\r\n\t\t{children}\r\n\t</Query>\r\n)\r\n","import React from 'react'\r\n\r\nimport { HomeComponent } from '../components/HomeComponent'\r\nimport { Loader } from '../components/Loader'\r\n\r\nimport { GetMe } from '../containers/GetMe'\r\n\r\nconst HomePage = ({ serverId, channelId, navigate }) => (\t\t\r\n\t<GetMe>\r\n\t\t{({ loading, error, data }) => {\r\n\t\t\tif (loading) return <Loader message='Loading...'/>\r\n\t\t\tif (error) return 'Internal server error'\r\n\t\t\tconst server = serverId ? data.getMe.servers.filter(server => server._id === serverId)[0] : data.getMe.servers[0]._id\r\n\t\t\tconst channel = channelId && server ? server.channels.filter(channel => channel._id === channelId )[0] : data.getMe.servers[0].channels[0]._id\r\n\t\t\tif (!serverId || !channelId) navigate(`/${server}/${channel}`)\r\n\t\t\t\r\n\t\t\treturn <HomeComponent data={data.getMe} server={server} channel={channel} />\r\n\t\t}}\r\n\t</GetMe>\r\n)\r\n\r\n// React.memo: \r\n// (<COMPONENT TO REMEMBER>, FUNC THAT RECIEVES PROPS ANF RETURNS:\r\n// TRUE = NOT RERENDER)\r\n// FALSE = RERENDER)\r\nexport const Home = React.memo(HomePage, (prevProps, props) => prevProps.serverId === props.serverId && prevProps.channelId === props.channelId)\r\n","import React from 'react'\r\n\r\nimport { Mutation } from 'react-apollo'\r\nimport { gql } from 'apollo-boost'\r\n\r\nconst Login = gql`\r\n\tmutation logIn($input: UserCredentials!) {\r\n\t\tlogIn(input: $input)\r\n\t}\r\n`\r\n\r\nexport const LoginMutation = ({ children }) => (\r\n\t<Mutation mutation={Login}>\r\n        {children}\r\n    </Mutation>\r\n)\r\n","import styled from 'styled-components'\r\n\r\nimport { Link as LinkRouter } from '@reach/router'\r\n\r\nexport const Form = styled.form`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\tborder-radius: 3px;\r\n\tpadding: 5%;\r\n\tbackground-color: #2d2d2d;\r\n\t-webkit-box-shadow: 0px 8px 40px -19px rgba(0, 0, 0, 0.75);\r\n\t-moz-box-shadow: 0px 8px 40px -19px rgba(0, 0, 0, 0.75);\r\n\tbox-shadow: 0px 8px 40px -19px rgba(0, 0, 0, 0.75);\r\n`\r\n\r\nexport const Span = styled.span`\r\n\tfont-family: Montserrat;\r\n\tfont-size: 12px;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Input = styled.input`\r\n\tborder: 1px solid #ededed;\r\n\tbackground-color: #ededed;\r\n\tborder-radius: 4px;\r\n\theight: 35px;\r\n\twidth: 100%;\r\n\tpadding: 5px 10px;\r\n\tfont-family: Montserrat;\r\n\tmargin: 8px 0;\r\n\t&[disabled] {\r\n\t\topacity: 0.3;\r\n\t}\r\n\t&:hover {\r\n\t\tbackground-color: #e8e8e8;\r\n\t}\r\n`\r\n\r\nexport const DivColumns = styled.div`\r\n\tbackground-color: #373737;\r\n`\r\n\r\nexport const Loader = styled.svg`\r\n\tanimation: rotate 2s linear infinite;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\r\n\t& .path {\r\n\t\tstroke: #ededed;\r\n\t\tstroke-linecap: round;\r\n\t\tanimation: dash 1.5s ease-in-out infinite;\r\n\t}\r\n\r\n\t@keyframes rotate {\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\t@keyframes dash {\r\n\t\t0% {\r\n\t\t\tstroke-dasharray: 1, 150;\r\n\t\t\tstroke-dashoffset: 0;\r\n\t\t}\r\n\t\t50% {\r\n\t\t\tstroke-dasharray: 90, 150;\r\n\t\t\tstroke-dashoffset: -35;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tstroke-dasharray: 90, 150;\r\n\t\t\tstroke-dashoffset: -124;\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const DivColumn = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\theight: 100vh;\r\n\tpadding: 0;\r\n\tbackground-color: #373737;\r\n`\r\n\r\nexport const Title = styled.h2`\r\n\tfont-size: 26px;\r\n\tfont-weight: bold;\r\n\tpadding: 8px 0;\r\n\tfont-family: Montserrat;\r\n\tcolor: #ededed;\r\n`\r\n\r\nexport const Error = styled.span`\r\n\tcolor: red;\r\n\tfont-size: 14px;\r\n`\r\n\r\nexport const Link = styled(LinkRouter)`\r\n\ttext-decoration: none;\r\n`\r\n","import styled from 'styled-components'\r\n\r\nexport const Button = styled.button`\r\n    background-color: #c86740;\r\n    border: 0;\r\n    border-radius: 3px;\r\n    color: #ffffff;\r\n    height: 32px;\r\n    display: block;\r\n    width: 100%;\r\n    margin: 8px 0;\r\n    text-align: center;\r\n    font-family: Montserrat;\r\n    &[disabled] {\r\n        opacity: .3;\r\n    }\r\n`\r\n","import React from 'react'\r\n\r\n// import PropTypes from 'prop-types'\r\n\r\nimport { Button } from './styles'\r\n\r\nexport const SubmitButton = ({ children, onClick, disabled }) => <Button disabled={disabled} onClick={onClick}>{children}</Button>\r\n\r\n// SubmitButton.propTypes = {\r\n//   disabled: PropTypes.bool,\r\n//   onClick: PropTypes.func,\r\n//   children: PropTypes.node.isRequired\r\n// }\r\n","import React from 'react'\r\n\r\nimport {\r\n\tForm,\r\n\tInput,\r\n\tTitle,\r\n\tError,\r\n\tDivColumns,\r\n\tDivColumn,\r\n\tSpan,\r\n\tLink,\r\n\tLoader as Spinner\r\n} from './styles'\r\n\r\nimport { SubmitButton } from '../SubmitButton'\r\n\r\nimport { useInputValue } from '../../hooks/useInputValue'\r\n\r\nexport const UserForm = ({ disabled, onSubmit, error, title }) => {\r\n\tconst username = useInputValue('')\r\n\tconst email = useInputValue('')\r\n\tconst password = useInputValue('')\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tawait onSubmit({\r\n\t\t\tusername: username.value,\r\n\t\t\temail: email.value,\r\n\t\t\tpassword: password.value\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DivColumns>\r\n\t\t\t<DivColumn className='column is-4 is-offset-4'>\r\n\t\t\t\t<Form disabled={disabled} onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Title>{title}</Title>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\t{...username}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{title === 'Sign Up' && (\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t{...email}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t{...password}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{error && <Error>{error}</Error>}\r\n\t\t\t\t\t<SubmitButton disabled={disabled}>\r\n\t\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t\t<Spinner viewBox='0 0 50 50'>\r\n\t\t\t\t\t\t\t\t<circle\r\n\t\t\t\t\t\t\t\t\tclassName='path'\r\n\t\t\t\t\t\t\t\t\tcx='25'\r\n\t\t\t\t\t\t\t\t\tcy='25'\r\n\t\t\t\t\t\t\t\t\tr='20'\r\n\t\t\t\t\t\t\t\t\tfill='none'\r\n\t\t\t\t\t\t\t\t\tstrokeWidth='4'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Spinner>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</SubmitButton>\r\n\t\t\t\t\t{title === 'Login' ? (\r\n\t\t\t\t\t\t<Span>\r\n\t\t\t\t\t\t\tNew here?\r\n\t\t\t\t\t\t\t<Link to='/signup'> Create an account</Link>\r\n\t\t\t\t\t\t</Span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Span>\r\n\t\t\t\t\t\t\tAlready have an account?\r\n\t\t\t\t\t\t\t<Link to='/login'> Login here</Link>\r\n\t\t\t\t\t\t</Span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\t\t\t</DivColumn>\r\n\t\t</DivColumns>\r\n\t)\r\n}\r\n","import React, { useContext } from 'react'\r\n\r\nimport { LoginMutation } from '../containers/LoginMutation'\r\n\r\nimport { UserForm } from '../components/UserForm'\r\n\r\nimport { Context } from '../Context'\r\n\r\nexport const Login = () => {\r\n    const { activateAuth } = useContext(Context)\r\n\r\n\treturn (\r\n\t\t<LoginMutation>\r\n\t\t\t{(logIn, { loading, error }) => {\r\n\t\t\t\tconst onSubmit = ({ username, password }) => {\r\n\t\t\t\t\tconst input = { username, password }\r\n\t\t\t\t\tconst variables = { input }\r\n\t\t\t\t\tlogIn({ variables })\r\n\t\t\t\t\t\t.then(({ data: { logIn } }) => {\r\n\t\t\t\t\t\t\tactivateAuth(logIn)\r\n\t\t\t\t\t\t })\r\n\t\t\t\t\t\t.catch(err => err)\r\n                }\r\n\t\t\t\tconst errorMsg = error && 'Wrong username or password'\r\n\r\n\t\t\t\treturn <UserForm onSubmit={onSubmit} disabled={loading} error={errorMsg} title='Login' />\r\n\t\t\t}}\r\n\t\t</LoginMutation>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nimport { Mutation } from 'react-apollo'\r\nimport { gql } from 'apollo-boost'\r\n\r\nconst signUp = gql`\r\n    mutation signUp($input: UserInput!) {\r\n        signUp(input: $input)\r\n    }\r\n`\r\n\r\nexport const SignupMutation = ({ children }) => (\r\n    <Mutation mutation={signUp}>\r\n        {children}\r\n    </Mutation>\r\n)\r\n","import React, { useContext } from 'react'\r\n\r\nimport { SignupMutation } from '../containers/SignupMutation'\r\n\r\nimport { UserForm } from '../components/UserForm'\r\n\r\nimport { Context } from '../Context'\r\n\r\nexport const Signup = () => {\r\n    const { activateAuth } = useContext(Context)\r\n\r\n\treturn (\r\n\t\t<SignupMutation>\r\n\t\t\t{(signUp, { loading, error }) => {\r\n\t\t\t\tconst onSubmit = ({ username, email, password }) => {\r\n\t\t\t\t\tconst input = { username, email, password }\r\n\t\t\t\t\tconst variables = { input }\r\n\t\t\t\t\tsignUp({ variables })\r\n\t\t\t\t\t\t.then(({ data: { signUp } }) => {\r\n\t\t\t\t\t\t\tactivateAuth(signUp)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => err)\r\n\t\t\t\t}\r\n\t\t\t\tconst errorMsg = error && error.graphQLErrors && error.graphQLErrors[0].message\r\n\r\n\t\t\t\treturn <UserForm onSubmit={onSubmit} disabled={loading} error={errorMsg} title='Sign Up' />\r\n\t\t\t}}\r\n\t\t</SignupMutation>\r\n\t)\r\n}\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nimport Montserrat from '../../assets/fonts/Montserrat-Regular.ttf'\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  \thtml, body {\r\n\t\theight: 100%;\r\n        width: 100%;\r\n        margin: 0;\r\n  \t}\r\n\r\n\t@font-face {\r\n        font-family: 'Montserrat';\r\n        src: local('Montserrat'), local('Montserrat'),\r\n        url(${Montserrat}) format('woff2'),\r\n        url(${Montserrat}) format('woff');\r\n        font-weight: 300;\r\n        font-style: normal;\r\n    }\r\n`\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport ApolloClient from 'apollo-boost'\r\nimport { ApolloProvider } from 'react-apollo'\r\n\r\nimport Context from './Context'\r\n\r\nimport { App } from './App'\r\n\r\nconst client = new ApolloClient({\r\n\turi: 'https://moran.mtprz.dev/api',\r\n\trequest: operation => {// <-- Set the token into the headers of each GraphQL request\r\n\t\tconst token = window.sessionStorage.getItem('token')\r\n\t\tconst authorization = token ? token : ''\r\n\t\toperation.setContext({\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tonError: error => { // => Catches the error\r\n\t\tconst { graphQLErrors } = error\r\n\t\tif (graphQLErrors && graphQLErrors[0].message === 'User must be authorized') {\r\n\t\t\t// => In case the jwt expires or is corrupted (not valid), removes it\r\n\t\t\twindow.sessionStorage.removeItem('token')\r\n\t\t\twindow.location.href = '/'\r\n\t\t}\r\n\t}\r\n})\r\n\r\nReactDOM.render(\r\n\t<Context.Provider>\r\n\t\t<ApolloProvider client={client}>\r\n\t\t\t<App />\r\n\t\t</ApolloProvider>\r\n\t</Context.Provider>,\r\n\tdocument.getElementById('app')\r\n)\r\n","import React, { useContext } from 'react'\r\n\r\nimport { Router, Redirect } from '@reach/router'\r\n\r\nimport { Home } from './pages/Home'\r\nimport { Login } from './pages/Login'\r\nimport { Signup } from './pages/Signup'\r\n\r\nimport { GlobalStyle } from './components/Styles/GlobalStyle'\r\n\r\nimport { Context } from './Context'\r\n\r\nexport const App = () => {\r\n\tconst { isAuth } = useContext(Context)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<GlobalStyle />\r\n\t\t\t<Router>\r\n\t\t\t\t{!isAuth && <Login path='/login' />}\r\n\t\t\t\t{!isAuth && <Signup path='/signup' />}\r\n\t\t\t\t{!isAuth && <Redirect noThrow  from='/' to='/login' />}\r\n\t\t\t\t{isAuth && <Home path='/' />}\r\n\t\t\t\t{isAuth && <Home path='/:serverId/:channelId' />}\r\n\t\t\t\t{isAuth && <Redirect noThrow  from='/login' to='/' />}\r\n\t\t\t\t{isAuth && <Redirect noThrow  from='/signup' to='/' />}\r\n\t\t\t</Router>\r\n\t\t</>\r\n\t)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/Montserrat-Regular.ee653992.ttf\";"],"sourceRoot":""}